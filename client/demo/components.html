<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SemToNotes - HTML5 Components</title>
  <meta name="description" content="SemToNotes - HTML5 Components">
  <link rel="stylesheet" type="text/css" media="screen" href="./stylesheets/stylesheet.css">
  <link rel="stylesheet" type="text/css" media="screen" href="./stylesheets/demo.css">
  <link rel="stylesheet" type="text/css" href="../../client/res/xrx.css">
  <script type="text/javascript" src="../../client/lib/jssaxparser/XMLFilterImpls.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/SAXException.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/NamespaceSupport.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/AttributesImpl.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/SAXScanner.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/ReaderWrapper.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/Reader.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/sax.js"></script>
  <script type="text/javascript" src="../../client/lib/jssaxparser/DefaultHandlers.js"></script>
  <!--script src='../../client/lib/closure-library/closure/goog/base.js'></script>
  <script src='../../client/src/deps.js'></script-->
  <script src="../../client/xrx-minified.js"></script>
  <script>
    goog.require('xrx');
  </script>
  <!--[if lt IE 9]>
    <script src="./javascript/html5shiv.min.js"></script>
    <script src="./javascript/respond.min.js"></script>
  <![endif]-->
  <style>
  .toolbar {
  z-index: 999;
  }
  </style>
</head>
<body>
  <div id="header_wrap" class="outer">
    <header class="inner">
      <a id="forkme_banner" href="https://github.com/HKIKoeln/SemToNotes">View on GitHub</a>
      <h1 id="project_title">SemToNotes</h1>
      <h2 id="project_tagline">HTML5 Components</h2>
      <section id="downloads">
        <a class="zip_download_link" href="https://github.com/HKIKoeln/SemToNotes/zipball/master">Download this project as a .zip file</a>
        <a class="tar_download_link" href="https://github.com/HKIKoeln/SemToNotes/tarball/master">Download this project as a tar.gz file</a>
      </section>
    </header>
  </div>
  <div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
      <h1>Getting Started</h1>
      <p>SemToNotes follows the design of a <a href="http://www.balisage.net/XML-Interfaces/"><i>Native XML User Interface</i></a>. A native XML user interface
        can be shortly called XRX, since XML is used on the client (<strong>X</strong>RX) and on the server (XR<strong>X</strong>).
        Client and server can communicate with a REST interface (X<strong>R</strong>X). Thus, XRX is used as the global namespace
        for all HTML5 components. SemToNotes for the moment only offers the client of XRX, future versions may also include server-side components.
      <p>SemToNotes is entirely written in JavaScript and uses three external libraries: the <a href="https://developers.google.com/closure/library/">Closure Library</a> for
        cross-browser support, the <a href="https://developers.google.com/closure/compiler/">Closure Compiler</a> for JavaScript compression and <a href="https://github.com/ndebeiss/jsXmlSaxParser">jsssaxparser</a>
        for client-side XML parsing.</p>
      <h2>Source Code Structure</h2>
      <p>SemToNotes can be found on <a href="https://github.com/HKIKoeln/SemToNotes">GitHub</a>. User interfaces are normally developed with HTML5 components only, and
        the source code structure is not relevant. Anyway, see below what the JavaScript project consists of:</p>
      <pre>
SemToNotes/
  ├── client/
  │   ├── apidoc/
  │   ├── build/
  │   ├── demo/
  │   ├── lib/
  │   ├── res/
  │   │   ├── ...
  │   │   ├── xrx.css
  │   ├── src/
  │   │   ├── core/
  │   │   │   ├── graphics/
  │   │   │   ├── mvc/
  │   │   │   ├── xml/
  │   │   ├── components/
  │   │   ├── ...
  │   ├── xrx-minified.js
  ├── data/
      </pre>
      <p>
        <li>The folder <code>client/</code> contains the JavaScript project whereas <code>data/</code> contains a small image collection used to demonstrate the graphical editing components
          of SemToNotes. The image collection is kindly provided by the <a href="http://www.ub.uni-heidelberg.de/">Universitätsbibliothek Heidleberg</a>.
        <li>Folders <code>apidoc/</code>, <code>build/</code> and <code>demo/</code> are self-explanatory.
        <li>The <code>res/</code> folder includes an important stylesheet, <code>xrx.css</code>, that should be included by any XRX user interface. See the HTML5 template below for more information.
        <li>The folder <code>components/</code> contains the JavaScript classes that implement the HTML5 components described below.
        <li>Finally, <code>core/</code> includes the implementation of a cross-browser graphics rendering and drawing engine, a purely client-side XML model-view-controller system and several
          low-level XML processing tools such as a streaming XML API or an XPath and XML update implementation.
      </p>
      <h2>Basic Template</h2>
      <p>Copy the HTML below to begin working with a minimal XRX document.</p>
      <pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Basic Template&lt;/title&gt;
  &lt;link rel="stylesheet" type="text/css" href="./client/res/xrx.css"&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/XMLFilterImpls.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/SAXException.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/NamespaceSupport.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/AttributesImpl.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/SAXScanner.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/ReaderWrapper.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/Reader.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/sax.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="./lib/jssaxparser/DefaultHandlers.js"&gt;&lt;/script&gt;
  &lt;!--script src='./lib/closure-library/closure/goog/base.js'&gt;&lt;/script&gt;
  &lt;script src='./src/deps.js'&gt;&lt;/script--&gt;&lt;!-- use this JavaScript for development --&gt;
  &lt;script src="./xrx-minified.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    goog.require('xrx');
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Basic Template&lt;/h1&gt;
  &lt;script&gt;
    xrx.install();
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
      </pre>
      <h1>MVC Components</h1>
      <p>MVC components are generic UI components that are relevant for interactive, dynamic XML user interfaces in general.</p>
      <h2>Instance</h2>
      <p>With an <code>xrx-instance</code> component, arbitrary XML documents can be loaded into a browser.</p>
      <h3>Markup Example</h3>
      <pre>&lt;div class="xrx-instance" id="i-mvcInstance" data-resource="./data/components/mvcInstance.xml.txt"&gt;&lt;/div&gt;</pre>
      <h4>Rules</h4>
      <ul>
        <li>Use an HTML <code>DIV</code> tag or any other HTML tag and give it the <code>.xrx-instance</code> class.
        <li>Give the instance an unique <code>id</code> to make it accessible for other components. It is recommended to start an instance id with <code>"i-"</code>.
        <li>The HTML5 dataset <code>data-resource</code> is required. It defines the relative or absolute URL of the XML document to be loaded.
      </ul>
      <h3>Remarks</h3>
      <blockquote>Note that the XRX system does not use the browser's <a href="http://www.w3schools.com/dom/">XML DOM</a> for XML processing, since this is a fairly unstable
        non-cross-browser technology. Instead, XRX treats XML documents as plain-text documents at first and internally builds up its own JavaScript-based DOM-like structure for
        XPath and XML update processing. You can help to circumvent browser-based XML DOM parsing and can save memory in serving XML documents as <code>*.txt</code> files,
        i.e., with media-type <code>text/plain</code>.</blockquote>
      <h2>Data Binding</h2>
      <p>With the data binding component, arbitrary nodes of an XML document can be referenced.</p>
      <h3>Example Data</h3>
      <pre>&lt;data&gt;
  &lt;a&gt;&lt;/a&gt;
  &lt;b&gt;some text&lt;/b&gt;
  &lt;c attr="value"&gt;&lt;/c&gt;
&lt;/data&gt;</pre>
      <p>It is assumed that these data are loaded by an instance with id <code>i-mvcInstance</code>.</p>
      <h3>Markup Examples</h3>
      <pre>&lt;div class="xrx-bind" id="b-mvcBind1" data-ref="xrx:instance('i-mvcInstance')/data/a"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-mvcBind2" data-ref="xrx:instance('i-mvcInstance')/data/b/text()"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-mvcBind3" data-ref="xrx:instance('i-mvcInstance')/data/c/@attr"&gt;&lt;/div&gt;</pre>
      <h4>Rules</h4>
      <ul>
        <li>Use an HTML <code>DIV</code> tag or any other HTML tag and give it the <code>.xrx-bind</code> class.
        <li>Give the instance an unique <code>id</code> to make it accessible for other components. It is recommended to start a binding id with <code>"b-"</code>.
        <li>The HTML5 dataset <code>data-ref</code> is required. It defines an XPath expression to reference a single node or a node-set of an XML document. The XRX
          specific XPath function <code>xrx:instance()</code> is used to access the XML document loaded by instance <code>i-mvcInstance</code>.
      </ul>
      <h2>Repeat</h2>
      <p></p>
      <h3>Example Data</h3>
      <p></p>
      <h3>Markup Example</h3>
      <h1>Form Components</h1>
      <h2>Input</h2>
      <h2>Textarea</h2>
      <h1>Graphical Components</h1>
      <p>The various graphical components together provide an interactive drawing canvas to render, manipulate and create graphical annotations on the basis of a pan-zoom-rotate image viewer.
        The components implement a browser chain. Depending on which rendering engine is available in your browser, either Canvas, or SVG, or VML rendering is chosen (in this order).</p>
      <h2>Pan-Zoom-Rotate Image Viewer</h2>
      <p>The image viewer component makes web images by default zoomable, draggable and rotatable with mouse interactions.</p>
      <h3>Example Data</h3>
      <pre>&lt;data&gt;
  &lt;url&gt;../../data/SachsenspiegelHeidelberg/Bilder-34572-28186-1600.jpg&lt;/url&gt;
&lt;/data&gt;</pre>
      <p>It is assumed that these data are loaded by an instance with id <code>"i-viewer"</code>.</p>
      <h3>Markup Example</h3>
      <pre>&lt;div class="xrx-instance" id="i-viewer" data-resource="./data/components/viewer.xml.txt"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-viewerUrl" data-ref="xrx:instance('i-viewer')/data/url/text()"&gt;&lt;/div&gt;
&lt;div class="xrx-canvas"&gt;
  &lt;div class="xrx-canvas-background-image" data-bind="b-viewerUrl"&gt;&lt;/div&gt;
&lt;/div&gt;</pre>
      <h4>Rules</h4>
      <ul>
        <li>Use an HTML <code>DIV</code> tag or any other HTML tag and give it the <code>.xrx-canvas</code> class.</li>
        <li>Inside the <code>.xrx-canvas</code> element, define an HTML <code>DIV</code> tag or any other HTML tag and give it the <code>.xrx-canvas-background-image</code>
          class.</li>
        <li>The HTML5 dataset <code>data-bind</code> for <code>.xrx-canvas-background-image</code> is required. The binding expression references the absolute or the
          relative URL of the background image.</li>
      </ul>
      <h3>Demo</h3>
      <p>Use your mouse to pan the image, the mouse-wheel to zoom the canvas' view-box, and double-click the image to rotate the view-box.</p>
      <div class="xrx-instance" id="i-viewer" data-resource="./data/components/viewer.xml.txt"></div>
      <div class="xrx-bind" id="b-viewerUrl" data-ref="xrx:instance('i-viewer')/data/url/text()"></div>
      <div class="xrx-canvas">
        <div class="xrx-canvas-background-image" data-bind="b-viewerUrl"></div>
      </div>
      <h2>Rendering and Styling Graphical Annotations</h2>
      <p>Graphical annotations can be rendered and styled with HTML5 components similar to the SVG or VML specification. An extra markup different from SVG is chosen, however, since--in contrast to
        SVG and VML--XRX is not a markup language to describe <em>graphics</em> only, but to describe whole <em>interactive drawing applications</em>.</p>
      <h3>Example Data</h3>
      <pre>&lt;data&gt;
  &lt;url&gt;../../data/SachsenspiegelHeidelberg/Bilder-34572-28186-1600.jpg&lt;/url&gt;
  &lt;rectangle1 x="10" y="10" width="50" height="50"/&gt;
  &lt;rectangle1 x="70" y="10" width="50" height="50"/&gt;
  &lt;rectangle2 ulx="20" uly="100" lrx="250" lry="300"/&gt;
  &lt;rectangle2 ulx="260" uly="100" lrx="400" lry="300"/&gt;
  &lt;polygon points="200,10 300,15 250,310 240,31 230,100"/&gt;
&lt;/data&gt;</pre>
      <h3>Markup Example</h3>
      <pre>&lt;div class="xrx-instance" id="i-stylable" data-resource="./data/components/stylable.xml.txt"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-stylableUrl" data-ref="xrx:instance('i-stylable')/data/url/text()"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-stylableRectangle1" data-ref="xrx:instance('i-stylable')/data/rectangle1"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-stylableRectangle2" data-ref="xrx:instance('i-stylable')/data/rectangle2"&gt;&lt;/div&gt;
&lt;div class="xrx-bind" id="b-stylablePolygon" data-ref="xrx:instance('i-stylable')/data/polygon"&gt;&lt;/div&gt;
&lt;div class="xrx-canvas"&gt;
  &lt;div class="xrx-canvas-background-image" data-bind="b-stylableUrl"&gt;&lt;/div&gt;
  &lt;div class="xrx-canvas-graphics"&gt;
    &lt;div class="xrx-canvas-group"&gt;
      &lt;div class="xrx-repeat" data-bind="b-stylableRectangle1"&gt;
        &lt;div class="xrx-shape-rect"
            data-ref="./self::*"
            data-ref-x="./@x"
            data-ref-y="./@y"
            data-ref-width="./@width"
            data-ref-height="./@height"
            data-stroke-width="3"
            data-stroke-color="red"
            data-fill-color="red"
            data-fill-opacity=".3"&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="xrx-canvas-group"&gt;
      &lt;div class="xrx-repeat" data-bind="b-stylableRectangle2"&gt;
        &lt;div class="xrx-shape-rect"
            data-ref="./self::*"
            data-ref-left="./@ulx"
            data-ref-top="./@uly"
            data-ref-right="./@lrx"
            data-ref-bottom="./@lry"
            data-stroke-width="5"
            data-stroke-color="blue"
            data-fill-color="yellow"
            data-fill-opacity=".4"&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="xrx-canvas-group"&gt;
      &lt;div class="xrx-repeat" data-bind="b-stylablePolygon"&gt;
        &lt;div class="xrx-shape-polygon"
            data-ref="./self::*"
            data-ref-coords="./@points"
            data-stroke-width="7"
            data-stroke-color="DarkOrange"
            data-fill-color="DarkOrange"
            data-fill-opacity=".4"&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>
      <h4>Rules</h4>
      <ul>
        <li>Follow the markup rules of the <strong>Pan-Zoom-Rotate Image Viewer</strong> described above. Additionally:</li>
        <li>Insert another HTML <code>DIV</code> tag or any other HTML tag as child of the <code>.xrx-canvas</code> element and give it the <code>.xrx-canvas-graphics</code> class.</li>
        <li>For each group of shapes, insert two more nested HTML <code>DIV</code> tags and give them the <code>.xrx-canvas-group</code> and the <code>.xrx-repeat</code> class. Insert them
          into the the <code>.xrx-canvas-graphics</code> element. For the <code>.xrx-repeat</code> element, a binding attribute <code>data-bind</code>is required. The repeat iterates the
          node-set referenced by the binding and renders a shape for each node of the node-set.</li>
        <li>Inside the <code>.xrx-repeat</code> elements, shapes can be defined. Currently there are two shapes available, rectangles and polygons. Use a <code>.xrx-shape-rect</code> element
          to render rectangles and a <code>.xrx-shape-plolygon</code> element to render polygons.</li>
        <li><code>.xrx-shape-polygon</code> elements have two required attributes, <code>data-ref</code> and <code>data-ref-coords</code> that reference the XML node defining the polygon
          as a whole and the node containing the coordinates of the polygon, often an attribute.</code> The syntax to define coordinate points follows the SVG specification: coordinate points are separated with a
          space, whereas the x and y value of each point is separated with a comma.</li>
        <li>The four coordinate points of a rectangle element, <code>.xrx-shape-rectangle</code>, can be referenced in two different ways: either (a) with <code>data-x</code>, <code>data-y</code>, <code>data-width</code> 
          and <code>data-height</code> attribute definitions, or (b) with a bounding box definition using <code>data-left</code>, <code>data-top</code>, <code>data-right</code> and <code>data-bottom</code>.</li>
        <li>All shapes can be styled in the same way, using the attribute <code>data-stroke-width</code> for the border width, <code>data-stroke-color</code> for the border color, <code>data-fill-color</code> for the background color
          and <code>data-fill-opacity</code> for the transparency of the background.</li>
      </ul>
      <h3>Demo</h3>
      <div class="xrx-instance" id="i-stylable" data-resource="./data/components/stylable.xml.txt"></div>
      <div class="xrx-bind" id="b-stylableUrl" data-ref="xrx:instance('i-stylable')/data/url/text()"></div>
      <div class="xrx-bind" id="b-stylableRectangle1" data-ref="xrx:instance('i-stylable')/data/rectangle1"></div>
      <div class="xrx-bind" id="b-stylableRectangle2" data-ref="xrx:instance('i-stylable')/data/rectangle2"></div>
      <div class="xrx-bind" id="b-stylablePolygon" data-ref="xrx:instance('i-stylable')/data/polygon"></div>
      <div class="xrx-canvas">
        <div class="xrx-canvas-background-image" data-bind="b-stylableUrl"></div>
        <div class="xrx-canvas-graphics">
          <div class="xrx-canvas-group">
            <div class="xrx-repeat" data-bind="b-stylableRectangle1">
              <div class="xrx-shape-rect"
                  data-ref="./self::*"
                  data-ref-x="./@x"
                  data-ref-y="./@y"
                  data-ref-width="./@width"
                  data-ref-height="./@height"
                  data-stroke-width="3"
                  data-stroke-color="red"
                  data-fill-color="red"
                  data-fill-opacity=".3">
              </div>
            </div>
          </div>
          <div class="xrx-canvas-group">
            <div class="xrx-repeat" data-bind="b-stylableRectangle2">
              <div class="xrx-shape-rect"
                  data-ref="./self::*"
                  data-ref-left="./@ulx"
                  data-ref-top="./@uly"
                  data-ref-right="./@lrx"
                  data-ref-bottom="./@lry"
                  data-stroke-width="5"
                  data-stroke-color="blue"
                  data-fill-color="yellow"
                  data-fill-opacity=".4">
              </div>
            </div>
          </div>
          <div class="xrx-canvas-group">
            <div class="xrx-repeat" data-bind="b-stylablePolygon">
              <div class="xrx-shape-polygon"
                  data-ref="./self::*"
                  data-ref-coords="./@points"
                  data-stroke-width="7"
                  data-stroke-color="DarkOrange"
                  data-fill-color="DarkOrange"
                  data-fill-opacity=".4">
              </div>
            </div>
          </div>
        </div>
      </div>
      <h2>Manipulating Graphical Annotations</h2>
    </section>
  </div>
  <div id="footer_wrap" class="outer">
    <footer class="inner">
    </footer>
  </div>
  <script>
    xrx.install();
  </script>
  <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </script>
  <script type="text/javascript">
    try {
      var pageTracker = _gat._getTracker("UA-53514095-1");
      pageTracker._trackPageview();
    } catch(err) {}
  </script>
</body>
</html>
