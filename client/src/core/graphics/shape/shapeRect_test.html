<!DOCTYPE html>
<html>
<head>
<title>XRX++ Unit Tests - xrx.shape.Rect, xrx.shape.RectModify, xrx.shape.RectCreate</title>
<script src='../../../../lib/closure-library/closure/goog/base.js'></script>
<script src='../../../deps.js'></script>
<script src='./shapeTest.js'></script>
<script type="text/javascript">
  goog.require('goog.testing.jsunit');
  goog.require('goog.dom.DomHelper');
  goog.require('xrx');
</script>
<style>
table {
border-collapse: collapse;
}
td {
border: solid grey 1px;
}
.canvas {
width: 500px;
height: 500px;
}
</style>
</head>
<body>

<h1>Rectangle Tests</h1>

<h2>Mode View</h2>
<div>Make sure that line width is constant.</div>
<div>Test with mobile devices.</div>
<table>
  <tr>
	  <td><span>Canvas</span></td>
	  <td><span>SVG</span></td>
	  <td><span>VML</span></td>
  </tr>
  <tr>
	  <td class="canvas" id="canvasRect"></td>
	  <td class="canvas" id="svgRect"></td>
	  <td class="canvas" id="vmlRect"></td>
  </tr>
</table>

<h2>Mode Modify</h2>
<div>Make sure that size of modifiers is constant.</div>
<div>Test with mobile devices.</div>
<table>
  <tr>
	  <td><span>Canvas</span></td>
	  <td><span>SVG</span></td>
	  <td><span>VML</span></td>
  </tr>
  <tr>
	  <td class="canvas" id="canvasRectModify"></td>
	  <td class="canvas" id="svgRectModify"></td>
	  <td class="canvas" id="vmlRectModify"></td>
  </tr>
</table>

<h2>Mode Create</h2>
<div>Make sure that size of modifiers is constant.</div>
<div>Test with mobile devices.</div>
<table>
  <tr>
	  <td><span>Canvas</span></td>
	  <td><span>SVG</span></td>
	  <td><span>VML</span></td>
  </tr>
  <tr>
	  <td class="canvas" id="canvasRectCreate"></td>
	  <td class="canvas" id="svgRectCreate"></td>
	  <td class="canvas" id="vmlRectCreate"></td>
  </tr>
</table>

<script type="text/javascript">



function getRects(drawing) {
  var coords1 = [[12,12], [12,25], [25,25], [25,12]];
  var coords2 = [[112,112], [112,125], [125,125], [125,112]];
  var coords3 = [[212,212], [212,315], [315,315], [315,212]];
  var rect1 = xrx.shape.Rect.create(drawing.getCanvas());
  var rect2 = xrx.shape.Rect.create(drawing.getCanvas());
  var rect3 = xrx.shape.Rect.create(drawing.getCanvas());
  rect1.setCoords(coords1);
  rect1.setStrokeWidth(1);
  rect2.setCoords(coords2);
  rect2.setStrokeWidth(1);
  rect3.setCoords(coords3);
  rect3.setStrokeWidth(1);
  return [rect1, rect2, rect3];
};



function test1View() {
  var canvasDrawing = getCanvasDrawing('canvasRect');
  canvasDrawing.setModeView();
  canvasDrawing.getLayerShape().addShapes(getRects(canvasDrawing));
  var svgDrawing = getCanvasDrawing('svgRect');
  svgDrawing.setModeView();
  svgDrawing.getLayerShape().addShapes(getRects(svgDrawing));
  var vmlDrawing = getCanvasDrawing('vmlRect');
  vmlDrawing.setModeView();
  vmlDrawing.getLayerShape().addShapes(getRects(vmlDrawing));
};



function test2Modify() {
  var canvasDrawing = getCanvasDrawing('canvasRectModify');
  canvasDrawing.setModeModify();
  canvasDrawing.getLayerShape().addShapes(getRects(canvasDrawing));
  var svgDrawing = getCanvasDrawing('svgRectModify');
  svgDrawing.setModeModify();
  svgDrawing.getLayerShape().addShapes(getRects(svgDrawing));
  var vmlDrawing = getCanvasDrawing('vmlRectModify');
  vmlDrawing.setModeModify();
  vmlDrawing.getLayerShape().addShapes(getRects(vmlDrawing));
};



function test3Create() {
  var canvasDrawing = getCanvasDrawing('canvasRectCreate');
  var canvasRect = xrx.shape.Rect.create(canvasDrawing.getCanvas());
  canvasRect.setStrokeWidth(1);
  canvasRect.setStrokeColor('blue');
  var canvasCreatable = canvasRect.getCreatable();
  canvasCreatable.setStrokeColor('blue');
  canvasCreatable.setStrokeWidth(5);
  canvasCreatable.setFillColor('blue');
  canvasCreatable.setFillOpacity(.2);
  canvasDrawing.setModeCreate(canvasCreatable);
  var svgDrawing = getSvgDrawing('svgRectCreate');
  var svgRect = xrx.shape.Rect.create(svgDrawing.getCanvas());
  svgRect.setStrokeWidth(1);
  svgRect.setStrokeColor('green');
  var svgCreatable = svgRect.getCreatable();
  svgCreatable.setStrokeColor('green');
  svgCreatable.setStrokeWidth(5);
  svgCreatable.setFillColor('green');
  svgCreatable.setFillOpacity(.2);
  svgDrawing.setModeCreate(svgCreatable);
  var vmlDrawing = getVmlDrawing('vmlRectCreate');
  var vmlRect = xrx.shape.Rect.create(vmlDrawing.getCanvas());
  vmlRect.setStrokeWidth(1);
  vmlRect.setStrokeColor('red');
  var vmlCreatable = vmlRect.getCreatable();
  vmlCreatable.setStrokeColor('red');
  vmlCreatable.setStrokeWidth(5);
  vmlCreatable.setFillColor('red');
  vmlCreatable.setFillOpacity(.2);
  vmlDrawing.setModeCreate(vmlCreatable);
};

</script>
</body>
</html>